{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport axios from \"axios\";\nimport decode from \"jwt-decode\";\n\nvar API =\n/*#__PURE__*/\nfunction () {\n  function API() {\n    _classCallCheck(this, API);\n  }\n\n  _createClass(API, [{\n    key: \"register\",\n    value: function register(u, e, p, t) {\n      var body = _JSON$stringify({\n        email: e,\n        password: p,\n        username: u,\n        type: t\n      });\n\n      console.log(\"body\", body);\n      return axios.post(process.env.REACT_APP_API_URL + \"register.php\", body).then(function (res) {\n        console.log(\"res\", res);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        console.log(error);\n        return _Promise.resolve(error.response);\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(u, p) {\n      var body = _JSON$stringify({\n        email: u,\n        password: p\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"login.php\", body).then(function (res) {\n        localStorage.setItem(\"jwt\", res.data.jwt);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        // console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error);\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(jwt) {\n      var body = _JSON$stringify({\n        jwt: jwt\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"validate_token.php\", body).then(function (res) {\n        return _Promise.resolve(res.data.data);\n      }).catch(function (error) {\n        //console.log(error);\n        return _Promise.resolve(error);\n      });\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      localStorage.removeItem(\"jwt\");\n    }\n  }, {\n    key: \"getToken\",\n    value: function getToken() {\n      return localStorage.getItem(\"jwt\");\n    }\n  }, {\n    key: \"getProfile\",\n    value: function getProfile() {\n      return decode(this.getToken()).data;\n    }\n  }, {\n    key: \"addCompany\",\n    value: function addCompany(data) {\n      var body = _JSON$stringify(data);\n\n      return axios.post(process.env.REACT_APP_API_URL + \"addcompany.php\", body).then(function (res) {\n        //console.log(\"resdata\", res.data);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        //console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"updateCompany\",\n    value: function updateCompany(data) {\n      var body = _JSON$stringify(data); //console.log(\"body\", body);\n\n\n      return axios.post(process.env.REACT_APP_API_URL + \"updatecompany.php\", body).then(function (res) {\n        //console.log(\"resdata\", res.data);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        //console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"updateCompanyService\",\n    value: function updateCompanyService(data) {\n      var body = _JSON$stringify(data);\n\n      return axios.post(process.env.REACT_APP_API_URL + \"updateservice.php\", body).then(function (res) {\n        return _Promise.resolve(res.data);\n      }).catch(function (error) {\n        // console.log(\"resdata from update backend\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"getCompanyInfo\",\n    value: function getCompanyInfo(id) {\n      var body = _JSON$stringify({\n        id: id\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"getcompanyinfo.php\", body).then(function (res) {\n        //console.log(\"getCompanyInfo api responce.data :\", res.data);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        //console.log(\"getCompanyInfo api error:\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"getAllItems\",\n    value: function getAllItems() {\n      return axios.post(process.env.REACT_APP_API_URL + \"getallitems.php\").then(function (res) {\n        // console.log(\"get AllItems API response data : \", res.data);\n        return _Promise.resolve(res.data);\n      }).catch(function (error) {\n        //console.log(\"get AllItems API error\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"getCompanyServices\",\n    value: function getCompanyServices(companyid) {\n      var body = _JSON$stringify({\n        companyid: companyid\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"getcompanyitems.php\", body).then(function (res) {\n        // console.log(\"resdata\", res.data);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        // console.log(\"error data\", error.response.data.message);\n        return _Promise.resolve(error.response);\n      });\n    }\n  }, {\n    key: \"addCompanyService\",\n    value: function addCompanyService(data) {\n      var body = _JSON$stringify(data);\n\n      return axios.post(process.env.REACT_APP_API_URL + \"addservice.php\", body).then(function (res) {\n        // console.log(\"resdata\", res.data);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        //console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"removeCompanyService\",\n    value: function removeCompanyService(id) {\n      var body = _JSON$stringify({\n        itemid: id\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"removeservice.php\", body).then(function (res) {\n        // console.log(\"resdata from remove\", res.data);\n        return _Promise.resolve(res.data);\n      }).catch(function (error) {\n        // console.log(\"responce data from remove\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"uploadImage\",\n    value: function uploadImage(file, id) {\n      var body = _JSON$stringify({\n        img: file,\n        companyid: id\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"uploadresizedimage.php\", body).then(function (res) {\n        //console.log(\"test\", res);\n        return _Promise.resolve(res.data);\n      }).catch(function (error) {\n        // console.log(\"errorrr\", error);\n        return _Promise.resolve(error);\n      });\n    }\n  }, {\n    key: \"addCoupon\",\n    value: function addCoupon(data) {\n      var body = _JSON$stringify(data);\n\n      return axios.post(process.env.REACT_APP_API_URL + \"addcoupon.php\", body).then(function (res) {\n        // console.log(\"resdata\", res.data);\n        return _Promise.resolve(res.data);\n      }).catch(function (error) {\n        //console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"getUserCoupons\",\n    value: function getUserCoupons(userid) {\n      var body = _JSON$stringify({\n        userid: userid\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"getusercoupons.php\", body).then(function (res) {\n        // console.log(\"resdata\", res);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        // console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response);\n      });\n    }\n  }, {\n    key: \"getCompanyCoupons\",\n    value: function getCompanyCoupons(companyid) {\n      var body = _JSON$stringify({\n        companyid: companyid\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"getcompanycoupons.php\", body).then(function (res) {\n        // console.log(\"resdata\", res);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        // console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response);\n      });\n    }\n  }, {\n    key: \"addComment\",\n    value: function addComment(data) {\n      var body = _JSON$stringify(data);\n\n      return axios.post(process.env.REACT_APP_API_URL + \"addcomment.php\", body).then(function (res) {\n        // console.log(\"resdata\", res.data);\n        return _Promise.resolve(res.data);\n      }).catch(function (error) {\n        // console.log(\"responce data\", error.response.data.message);\n        return _Promise.resolve(error.response.data);\n      });\n    }\n  }, {\n    key: \"getCompanyComments\",\n    value: function getCompanyComments(companyid) {\n      var body = _JSON$stringify({\n        companyid: companyid\n      });\n\n      return axios.post(process.env.REACT_APP_API_URL + \"getcompanycomment.php\", body).then(function (res) {\n        //console.log(\"resdata from api.js\", res);\n        return _Promise.resolve(res);\n      }).catch(function (error) {\n        return _Promise.resolve(error.response);\n      });\n    }\n  }]);\n\n  return API;\n}();\n\nexport { API as default };","map":{"version":3,"sources":["/Users/kouros/Code/SSR/Service/API.js"],"names":["axios","decode","API","u","e","p","t","body","email","password","username","type","console","log","post","process","env","REACT_APP_API_URL","then","res","resolve","catch","error","response","localStorage","setItem","data","jwt","removeItem","getItem","getToken","id","companyid","itemid","file","img","userid"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport decode from \"jwt-decode\";\n\nexport default class API {\n  register(u, e, p, t) {\n    let body = JSON.stringify({\n      email: e,\n      password: p,\n      username: u,\n      type: t\n    });\n    console.log(\"body\", body);\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"register.php\", body)\n      .then(res => {\n        console.log(\"res\", res);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        console.log(error);\n        return Promise.resolve(error.response);\n      });\n  }\n\n  login(u, p) {\n    let body = JSON.stringify({\n      email: u,\n      password: p\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"login.php\", body)\n      .then(res => {\n        localStorage.setItem(\"jwt\", res.data.jwt);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        // console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error);\n      });\n  }\n\n  validate(jwt) {\n    let body = JSON.stringify({\n      jwt: jwt\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"validate_token.php\", body)\n      .then(res => {\n        return Promise.resolve(res.data.data);\n      })\n      .catch(error => {\n        //console.log(error);\n        return Promise.resolve(error);\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"jwt\");\n  }\n\n  getToken() {\n    return localStorage.getItem(\"jwt\");\n  }\n\n  getProfile() {\n    return decode(this.getToken()).data;\n  }\n\n  addCompany(data) {\n    let body = JSON.stringify(data);\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"addcompany.php\", body)\n      .then(res => {\n        //console.log(\"resdata\", res.data);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        //console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  updateCompany(data) {\n    let body = JSON.stringify(data);\n    //console.log(\"body\", body);\n\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"updatecompany.php\", body)\n      .then(res => {\n        //console.log(\"resdata\", res.data);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        //console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  updateCompanyService(data) {\n    let body = JSON.stringify(data);\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"updateservice.php\", body)\n      .then(res => {\n        return Promise.resolve(res.data);\n      })\n      .catch(error => {\n        // console.log(\"resdata from update backend\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  getCompanyInfo(id) {\n    let body = JSON.stringify({\n      id: id\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"getcompanyinfo.php\", body)\n      .then(res => {\n        //console.log(\"getCompanyInfo api responce.data :\", res.data);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        //console.log(\"getCompanyInfo api error:\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  getAllItems() {\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"getallitems.php\")\n      .then(res => {\n        // console.log(\"get AllItems API response data : \", res.data);\n        return Promise.resolve(res.data);\n      })\n      .catch(error => {\n        //console.log(\"get AllItems API error\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  getCompanyServices(companyid) {\n    let body = JSON.stringify({\n      companyid: companyid\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"getcompanyitems.php\", body)\n      .then(res => {\n        // console.log(\"resdata\", res.data);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        // console.log(\"error data\", error.response.data.message);\n        return Promise.resolve(error.response);\n      });\n  }\n\n  addCompanyService(data) {\n    let body = JSON.stringify(data);\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"addservice.php\", body)\n      .then(res => {\n        // console.log(\"resdata\", res.data);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        //console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  removeCompanyService(id) {\n    let body = JSON.stringify({\n      itemid: id\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"removeservice.php\", body)\n      .then(res => {\n        // console.log(\"resdata from remove\", res.data);\n        return Promise.resolve(res.data);\n      })\n      .catch(error => {\n        // console.log(\"responce data from remove\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  uploadImage(file, id) {\n    let body = JSON.stringify({\n      img: file,\n      companyid: id\n    });\n\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"uploadresizedimage.php\", body)\n      .then(res => {\n        //console.log(\"test\", res);\n        return Promise.resolve(res.data);\n      })\n      .catch(error => {\n        // console.log(\"errorrr\", error);\n\n        return Promise.resolve(error);\n      });\n  }\n\n  addCoupon(data) {\n    let body = JSON.stringify(data);\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"addcoupon.php\", body)\n      .then(res => {\n        // console.log(\"resdata\", res.data);\n        return Promise.resolve(res.data);\n      })\n      .catch(error => {\n        //console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  getUserCoupons(userid) {\n    let body = JSON.stringify({\n      userid: userid\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"getusercoupons.php\", body)\n      .then(res => {\n        // console.log(\"resdata\", res);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        // console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response);\n      });\n  }\n\n  getCompanyCoupons(companyid) {\n    let body = JSON.stringify({\n      companyid: companyid\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"getcompanycoupons.php\", body)\n      .then(res => {\n        // console.log(\"resdata\", res);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        // console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response);\n      });\n  }\n\n  addComment(data) {\n    let body = JSON.stringify(data);\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"addcomment.php\", body)\n      .then(res => {\n        // console.log(\"resdata\", res.data);\n        return Promise.resolve(res.data);\n      })\n      .catch(error => {\n        // console.log(\"responce data\", error.response.data.message);\n        return Promise.resolve(error.response.data);\n      });\n  }\n\n  getCompanyComments(companyid) {\n    let body = JSON.stringify({\n      companyid: companyid\n    });\n    return axios\n      .post(process.env.REACT_APP_API_URL + \"getcompanycomment.php\", body)\n      .then(res => {\n        //console.log(\"resdata from api.js\", res);\n        return Promise.resolve(res);\n      })\n      .catch(error => {\n        return Promise.resolve(error.response);\n      });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}