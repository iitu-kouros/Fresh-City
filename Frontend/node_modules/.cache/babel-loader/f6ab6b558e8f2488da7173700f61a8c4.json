{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kouros/Code/SSR/pages/Welcome.js\";\nimport React, { Component } from \"react\";\nimport Menu from \"../components/menu/Menu.jsx\";\nimport Footer from \"../components/menu/Footer.jsx\";\nimport API from \"../API.js\";\nimport \"../profile.css\";\nimport { NotificationContainer, NotificationManager } from \"react-notifications\";\n\nvar Welcome =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Welcome, _Component);\n\n  function Welcome(props) {\n    var _this;\n\n    _classCallCheck(this, Welcome);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Welcome).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSignin\", function () {\n      if (localStorage.getItem(\"jwt\")) {\n        var profile = _this.API.getProfile();\n\n        console.log(profile);\n        if (profile.type === \"0\") _this.props.history.replace(\"/user\");else if (profile.type === \"1\") _this.props.history.replace(\"/profile\");\n      }\n\n      var re = /\\S+@\\S+\\.\\S+/;\n\n      if (!re.test(String(_this.state.loginEmail).toLowerCase())) {\n        if (_this.state.loginEmail === \"\") _this.setState({\n          signinEmailMessage: \" Provide an email.\"\n        });else _this.setState({\n          signinEmailMessage: \"It is not a valid email.\"\n        });\n      } else {\n        _this.setState({\n          signinEmailMessage: \"\"\n        });\n\n        if (_this.state.loginPass.length < 6) {\n          _this.setState({\n            signinMessage: \" Password is at least 6 character.\"\n          });\n        } else {\n          _this.setState({\n            signinMessage: \"\"\n          });\n\n          _this.API.login(_this.state.loginEmail, _this.state.loginPass).then(function (res) {\n            if (localStorage.getItem(\"jwt\")) {\n              var _profile = _this.API.getProfile();\n\n              if (_profile.type === \"0\") _this.props.history.replace(\"/\");else _this.props.history.replace(\"/profile\");\n            } else {\n              NotificationManager.info(\"Wrong email or password. Try again.\");\n\n              _this.setState({\n                signinMessage: \"wrong user or password.\"\n              });\n            }\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSignup\", function () {\n      if (_this.validateForm()) _this.API.register(_this.state.user, _this.state.email, _this.state.pass, _this.state.businessUser).then(function (res) {\n        console.log(\"res\", res);\n        if (res.data.message === \"User exist\") _this.setState({\n          emailMessage: \"\",\n          userMessage: \"The username already taken.\"\n        });else if (res.data.message === \"Email exist\") _this.setState({\n          userMessage: \"\",\n          emailMessage: \"The email is already registered. \"\n        });else if (res.data.message === \"User was created.\") {\n          NotificationManager.info(\"Successfully register. Sign in to your account.\");\n\n          _this.setState({\n            signinState: true,\n            loginEmail: _this.state.email,\n            loginPass: _this.state.pass\n          });\n        } else {\n          alert(\"Something goes wrong.\");\n        }\n      });else NotificationManager.info(\"Fill all required fields.\", null, 2000);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function () {\n      _this.setState({\n        signinState: !_this.state.signinState,\n        user: \"\",\n        email: \"\",\n        pass: \"\",\n        signinMessage: \"\",\n        emailMessage: \"\",\n        userMessage: \"\",\n        pass2: \"\",\n        loginPass: \"\",\n        passMessage: \"\",\n        passMessage2: \"\",\n        businessUser: false\n      }, function () {\n        var _loop = function _loop(x) {\n          _this.refs[x].onkeypress = function (event) {\n            return _this._handleKeyPress(event, x);\n          };\n        };\n\n        for (var x in _this.refs) {\n          _loop(x);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleBussinessClick\", function () {\n      _this.setState({\n        businessUser: !_this.state.businessUser,\n        signinState: false,\n        user: \"\",\n        email: \"\",\n        pass: \"\",\n        signinMessage: \"\",\n        emailMessage: \"\",\n        userMessage: \"\",\n        passMessage: \"\",\n        passMessage2: \"\",\n        pass2: \"\",\n        loginPass: \"\"\n      });\n    });\n\n    _this.state = {\n      signinState: true,\n      businessUser: false,\n      loginEmail: \"\",\n      loginPass: \"\",\n      user: \"\",\n      userMessage: \"\",\n      email: \"\",\n      pass: \"\",\n      pass2: \"\",\n      signinMessage: \"\",\n      signinEmailMessage: \"\",\n      emailMessage: \"\",\n      passMessage: \"\",\n      passMessage2: \"\"\n    };\n    _this.handleChangeUser = _this.handleChangeUser.bind(_assertThisInitialized(_this));\n    _this.handleChangePass = _this.handleChangePass.bind(_assertThisInitialized(_this));\n    _this.handleChangePass2 = _this.handleChangePass2.bind(_assertThisInitialized(_this));\n    _this.handleChangeEmail = _this.handleChangeEmail.bind(_assertThisInitialized(_this));\n    _this.handleSignin = _this.handleSignin.bind(_assertThisInitialized(_this));\n    _this.handleSignup = _this.handleSignup.bind(_assertThisInitialized(_this));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_this));\n    _this.handleLoginChangeEmail = _this.handleLoginChangeEmail.bind(_assertThisInitialized(_this));\n    _this.handleLoginChangePass = _this.handleLoginChangePass.bind(_assertThisInitialized(_this));\n    _this._handleKeyPress = _this._handleKeyPress.bind(_assertThisInitialized(_this));\n    _this.validateForm = _this.validateForm.bind(_assertThisInitialized(_this));\n    _this.API = new API();\n    return _this;\n  }\n\n  _createClass(Welcome, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (localStorage.getItem(\"jwt\")) {\n        var profile = this.API.getProfile();\n        if (profile.type === \"0\") this.props.history.replace(\"/user\");else if (profile.type === \"1\") this.props.history.replace(\"/profile\");\n      }\n\n      var _loop2 = function _loop2(x) {\n        _this2.refs[x].onkeypress = function (event) {\n          return _this2._handleKeyPress(event, x);\n        };\n      };\n\n      for (var x in this.refs) {\n        _loop2(x);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        menuState: this.state.filter,\n        handleChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"itemcard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.state.signinState ? React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Log in to your account\"), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"div\", {\n        className: \"input-group-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.loginEmail,\n        onChange: this.handleLoginChangeEmail,\n        ref: \"1\",\n        key: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }))), React.createElement(\"span\", {\n        className: \"input-group-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, this.state.signinEmailMessage), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"div\", {\n        className: \"input-group-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.loginPass,\n        onChange: this.handleLoginChangePass,\n        ref: \"2\",\n        key: \"pass\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), \" \")), React.createElement(\"span\", {\n        className: \"input-group-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \" \", this.state.signinMessage), React.createElement(\"button\", {\n        onClick: this.handleSignin,\n        type: \"submit\",\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Sign in\")) : React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.state.businessUser ? \"Create your bussiness account\" : \"Create your account\", \" \"), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"div\", {\n        className: \"input-group-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.user,\n        onChange: this.handleChangeUser,\n        ref: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), \" \")), React.createElement(\"span\", {\n        className: \"input-group-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \" \", this.state.userMessage), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"div\", {\n        className: \"input-group-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.email,\n        onChange: this.handleChangeEmail,\n        ref: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), \" \")), React.createElement(\"span\", {\n        className: \"input-group-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \" \", this.state.emailMessage), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"div\", {\n        className: \"input-group-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.pass,\n        onChange: this.handleChangePass,\n        ref: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), \" \")), React.createElement(\"span\", {\n        className: \"input-group-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" \", this.state.passMessage), React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Password \"), React.createElement(\"div\", {\n        className: \"input-group-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.pass2,\n        onChange: this.handleChangePass2,\n        placeholder: \"repeat password\",\n        ref: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), \" \")), React.createElement(\"span\", {\n        className: \"input-group-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \" \", this.state.passMessage2), React.createElement(\"button\", {\n        onClick: this.handleSignup,\n        type: \"button\",\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Sign up\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Dont you have account?\"), React.createElement(\"button\", {\n        onClick: this.handleClick,\n        type: \"button\",\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.state.signinState ? \"Register as Member\" : \" Already Member\"), React.createElement(\"button\", {\n        onClick: this.handleBussinessClick,\n        type: \"button\",\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, this.state.businessUser ? \"Register as Member\" : \"Register as Company\")))), React.createElement(NotificationContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"_handleKeyPress\",\n    value: function _handleKeyPress(e, field) {\n      if (e.keyCode === 13) {\n        if (field === \"1\") this.refs[2].focus();else if (field === \"2\") this.handleSignin();else if (field === \"3\") this.refs[4].focus();else if (field === \"4\") this.refs[5].focus();else if (field === \"5\") this.refs[6].focus();else if (field === \"6\") this.handleSignup();\n      }\n    }\n  }, {\n    key: \"handleChangeUser\",\n    value: function handleChangeUser(event) {\n      this.setState({\n        user: event.target.value\n      });\n\n      if (event.target.value === \"\") {\n        this.setState({\n          userMessage: \"Provide an username.\"\n        });\n      }\n\n      if (event.target.value.length < 4) {\n        this.setState({\n          userMessage: \"It should be minimum 4 characters.\"\n        });\n      } else this.setState({\n        userMessage: \"\"\n      });\n    }\n  }, {\n    key: \"handleLoginChangePass\",\n    value: function handleLoginChangePass(event) {\n      this.setState({\n        loginPass: event.target.value\n      });\n      if (this.state.loginPass.length > 5) this.setState({\n        signinMessage: \"\"\n      });\n    }\n  }, {\n    key: \"handleChangePass\",\n    value: function handleChangePass(event) {\n      var _this3 = this;\n\n      this.setState({\n        pass: event.target.value\n      }, function () {\n        return _this3.validateForm();\n      });\n    }\n  }, {\n    key: \"handleChangePass2\",\n    value: function handleChangePass2(event) {\n      var _this4 = this;\n\n      this.setState({\n        pass2: event.target.value\n      }, function () {\n        return _this4.validateForm();\n      });\n\n      if (this.state.pass === event.target.value) {\n        this.setState({\n          passMessage2: \"\"\n        });\n      }\n    }\n  }, {\n    key: \"handleLoginChangeEmail\",\n    value: function handleLoginChangeEmail(event) {\n      this.setState({\n        loginEmail: event.target.value\n      });\n      var re = /\\S+@\\S+\\.\\S+/;\n      if (re.test(String(event.target.value).toLowerCase())) this.setState({\n        signinEmailMessage: \"\"\n      });\n    }\n  }, {\n    key: \"handleChangeEmail\",\n    value: function handleChangeEmail(event) {\n      var re = /\\S+@\\S+\\.\\S+/;\n      this.setState({\n        email: event.target.value\n      });\n\n      if (!re.test(String(event.target.value).toLowerCase())) {\n        if (event.target.value === \"\") {\n          this.setState({\n            emailMessage: \"Provide an email.\"\n          });\n        } else {\n          this.setState({\n            emailMessage: \"It is not valid email.\"\n          });\n        }\n      } else this.setState({\n        emailMessage: \"\"\n      });\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var re = /\\S+@\\S+\\.\\S+/;\n\n      if (this.state.user === \"\") {\n        this.setState({\n          userMessage: \" Provide an username\"\n        });\n      } else if (!re.test(String(this.state.email).toLowerCase())) {\n        if (this.state.email === \"\") {\n          this.setState({\n            emailMessage: \" Provide an email\"\n          });\n        } else {\n          this.setState({\n            emailMessage: \" Email is not valid email\"\n          });\n        }\n      } else if (this.state.pass === \"\") {\n        this.setState({\n          emailMessage: \"\",\n          passMessage: \"Provide a password \"\n        });\n      } else if (this.state.pass.length < 6) {\n        this.setState({\n          emailMessage: \"\",\n          passMessage: \"at least 6 characters\"\n        });\n      } else if (this.state.pass !== this.state.pass2) {\n        this.setState({\n          passMessage: \"\",\n          passMessage2: \"Passwords doesnt Match\"\n        });\n      } else return true;\n\n      return false;\n    }\n  }]);\n\n  return Welcome;\n}(Component);\n\nexport default Welcome;","map":{"version":3,"sources":["/Users/kouros/Code/SSR/pages/Welcome.js"],"names":["React","Component","Menu","Footer","API","NotificationContainer","NotificationManager","Welcome","props","localStorage","getItem","profile","getProfile","console","log","type","history","replace","re","test","String","state","loginEmail","toLowerCase","setState","signinEmailMessage","loginPass","length","signinMessage","login","then","res","info","validateForm","register","user","email","pass","businessUser","data","message","emailMessage","userMessage","signinState","alert","pass2","passMessage","passMessage2","x","refs","onkeypress","event","_handleKeyPress","handleChangeUser","bind","handleChangePass","handleChangePass2","handleChangeEmail","handleSignin","handleSignup","handleClick","handleLoginChangeEmail","handleLoginChangePass","filter","handleChange","handleBussinessClick","e","field","keyCode","focus","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Menu from \"../components/menu/Menu.jsx\";\nimport Footer from \"../components/menu/Footer.jsx\";\nimport API from \"../API.js\";\nimport \"../profile.css\";\n\nimport {\n  NotificationContainer,\n  NotificationManager\n} from \"react-notifications\";\n\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signinState: true,\n      businessUser: false,\n      loginEmail: \"\",\n      loginPass: \"\",\n      user: \"\",\n      userMessage: \"\",\n      email: \"\",\n      pass: \"\",\n      pass2: \"\",\n      signinMessage: \"\",\n      signinEmailMessage: \"\",\n      emailMessage: \"\",\n      passMessage: \"\",\n      passMessage2: \"\"\n    };\n    this.handleChangeUser = this.handleChangeUser.bind(this);\n    this.handleChangePass = this.handleChangePass.bind(this);\n    this.handleChangePass2 = this.handleChangePass2.bind(this);\n    this.handleChangeEmail = this.handleChangeEmail.bind(this);\n    this.handleSignin = this.handleSignin.bind(this);\n    this.handleSignup = this.handleSignup.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleLoginChangeEmail = this.handleLoginChangeEmail.bind(this);\n    this.handleLoginChangePass = this.handleLoginChangePass.bind(this);\n    this._handleKeyPress = this._handleKeyPress.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n    this.API = new API();\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"jwt\")) {\n      let profile = this.API.getProfile();\n      if (profile.type === \"0\") this.props.history.replace(\"/user\");\n      else if (profile.type === \"1\") this.props.history.replace(\"/profile\");\n    }\n\n    for (let x in this.refs) {\n      this.refs[x].onkeypress = event => this._handleKeyPress(event, x);\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Menu menuState={this.state.filter} handleChange={this.handleChange} />\n        <div className=\"center\">\n          <div className=\"itemcard\">\n            {this.state.signinState ? (\n              <div className=\"login\">\n                <h3 align=\"center\">Log in to your account</h3>\n                <div className=\"input-group\">\n                  <div className=\"input-group-title\">Email</div>\n                  <div className=\"input-group-area\">\n                    <input\n                      type=\"text\"\n                      value={this.state.loginEmail}\n                      onChange={this.handleLoginChangeEmail}\n                      ref={\"1\"}\n                      key={\"email\"}\n                    />\n                  </div>\n                </div>\n                <span className=\"input-group-alert\">\n                  {this.state.signinEmailMessage}\n                </span>\n\n                <div className=\"input-group\">\n                  <div className=\"input-group-title\">Password</div>\n                  <div className=\"input-group-area\">\n                    <input\n                      type=\"password\"\n                      value={this.state.loginPass}\n                      onChange={this.handleLoginChangePass}\n                      ref={\"2\"}\n                      key={\"pass\"}\n                    />{\" \"}\n                  </div>\n                </div>\n                <span className=\"input-group-alert\">\n                  {\" \"}\n                  {this.state.signinMessage}\n                </span>\n\n                <button\n                  onClick={this.handleSignin}\n                  type=\"submit\"\n                  className=\"button\"\n                >\n                  Sign in\n                </button>\n              </div>\n            ) : (\n              <div className=\"login\">\n                <h3 align=\"center\">\n                  {this.state.businessUser\n                    ? \"Create your bussiness account\"\n                    : \"Create your account\"}{\" \"}\n                </h3>\n                <div className=\"input-group\">\n                  <div className=\"input-group-title\">Username</div>\n                  <div className=\"input-group-area\">\n                    <input\n                      type=\"text\"\n                      value={this.state.user}\n                      onChange={this.handleChangeUser}\n                      ref={\"3\"}\n                    />{\" \"}\n                  </div>\n                </div>\n                <span className=\"input-group-alert\">\n                  {\" \"}\n                  {this.state.userMessage}\n                </span>\n\n                <div className=\"input-group\">\n                  <div className=\"input-group-title\">Email</div>\n                  <div className=\"input-group-area\">\n                    <input\n                      type=\"text\"\n                      value={this.state.email}\n                      onChange={this.handleChangeEmail}\n                      ref={\"4\"}\n                    />{\" \"}\n                  </div>\n                </div>\n                <span className=\"input-group-alert\">\n                  {\" \"}\n                  {this.state.emailMessage}\n                </span>\n\n                <div className=\"input-group\">\n                  <div className=\"input-group-title\">Password</div>\n                  <div className=\"input-group-area\">\n                    <input\n                      type=\"password\"\n                      value={this.state.pass}\n                      onChange={this.handleChangePass}\n                      ref={\"5\"}\n                    />{\" \"}\n                  </div>\n                </div>\n                <span className=\"input-group-alert\">\n                  {\" \"}\n                  {this.state.passMessage}\n                </span>\n\n                <div className=\"input-group\">\n                  <div className=\"input-group-title\">Password </div>\n                  <div className=\"input-group-area\">\n                    <input\n                      type=\"password\"\n                      value={this.state.pass2}\n                      onChange={this.handleChangePass2}\n                      placeholder=\"repeat password\"\n                      ref={\"6\"}\n                    />{\" \"}\n                  </div>\n                </div>\n                <span className=\"input-group-alert\">\n                  {\" \"}\n                  {this.state.passMessage2}\n                </span>\n\n                <button\n                  onClick={this.handleSignup}\n                  type=\"button\"\n                  className=\"button\"\n                >\n                  Sign up\n                </button>\n              </div>\n            )}\n            <hr />\n            <div>\n              <h5>Dont you have account?</h5>\n              <button\n                onClick={this.handleClick}\n                type=\"button\"\n                className=\"button\"\n              >\n                {this.state.signinState\n                  ? \"Register as Member\"\n                  : \" Already Member\"}\n              </button>\n\n              <button\n                onClick={this.handleBussinessClick}\n                type=\"button\"\n                className=\"button\"\n              >\n                {this.state.businessUser\n                  ? \"Register as Member\"\n                  : \"Register as Company\"}\n              </button>\n            </div>\n          </div>\n        </div>\n        <NotificationContainer />\n\n        <Footer />\n      </div>\n    );\n  }\n\n  _handleKeyPress(e, field) {\n    if (e.keyCode === 13) {\n      if (field === \"1\") this.refs[2].focus();\n      else if (field === \"2\") this.handleSignin();\n      else if (field === \"3\") this.refs[4].focus();\n      else if (field === \"4\") this.refs[5].focus();\n      else if (field === \"5\") this.refs[6].focus();\n      else if (field === \"6\") this.handleSignup();\n    }\n  }\n  handleSignin = () => {\n    if (localStorage.getItem(\"jwt\")) {\n      let profile = this.API.getProfile();\n      console.log(profile);\n      if (profile.type === \"0\") this.props.history.replace(\"/user\");\n      else if (profile.type === \"1\") this.props.history.replace(\"/profile\");\n    }\n    var re = /\\S+@\\S+\\.\\S+/;\n    if (!re.test(String(this.state.loginEmail).toLowerCase())) {\n      if (this.state.loginEmail === \"\")\n        this.setState({ signinEmailMessage: \" Provide an email.\" });\n      else this.setState({ signinEmailMessage: \"It is not a valid email.\" });\n    } else {\n      this.setState({ signinEmailMessage: \"\" });\n\n      if (this.state.loginPass.length < 6) {\n        this.setState({ signinMessage: \" Password is at least 6 character.\" });\n      } else {\n        this.setState({ signinMessage: \"\" });\n\n        this.API.login(this.state.loginEmail, this.state.loginPass).then(\n          res => {\n            if (localStorage.getItem(\"jwt\")) {\n              let profile = this.API.getProfile();\n              if (profile.type === \"0\") this.props.history.replace(\"/\");\n              else this.props.history.replace(\"/profile\");\n            } else {\n              NotificationManager.info(\"Wrong email or password. Try again.\");\n              this.setState({ signinMessage: \"wrong user or password.\" });\n            }\n          }\n        );\n      }\n    }\n  };\n\n  handleSignup = () => {\n    if (this.validateForm())\n      this.API.register(\n        this.state.user,\n        this.state.email,\n        this.state.pass,\n        this.state.businessUser\n      ).then(res => {\n        console.log(\"res\", res);\n        if (res.data.message === \"User exist\")\n          this.setState({\n            emailMessage: \"\",\n            userMessage: \"The username already taken.\"\n          });\n        else if (res.data.message === \"Email exist\")\n          this.setState({\n            userMessage: \"\",\n            emailMessage: \"The email is already registered. \"\n          });\n        else if (res.data.message === \"User was created.\") {\n          NotificationManager.info(\n            \"Successfully register. Sign in to your account.\"\n          );\n          this.setState({\n            signinState: true,\n            loginEmail: this.state.email,\n            loginPass: this.state.pass\n          });\n        } else {\n          alert(\"Something goes wrong.\");\n        }\n      });\n    else NotificationManager.info(\"Fill all required fields.\", null, 2000);\n  };\n\n  handleChangeUser(event) {\n    this.setState({ user: event.target.value });\n    if (event.target.value === \"\") {\n      this.setState({ userMessage: \"Provide an username.\" });\n    }\n    if (event.target.value.length < 4) {\n      this.setState({ userMessage: \"It should be minimum 4 characters.\" });\n    } else this.setState({ userMessage: \"\" });\n  }\n\n  handleLoginChangePass(event) {\n    this.setState({ loginPass: event.target.value });\n    if (this.state.loginPass.length > 5) this.setState({ signinMessage: \"\" });\n  }\n\n  handleChangePass(event) {\n    this.setState({ pass: event.target.value }, () => this.validateForm());\n  }\n\n  handleChangePass2(event) {\n    this.setState({ pass2: event.target.value }, () => this.validateForm());\n    if (this.state.pass === event.target.value) {\n      this.setState({\n        passMessage2: \"\"\n      });\n    }\n  }\n\n  handleLoginChangeEmail(event) {\n    this.setState({ loginEmail: event.target.value });\n    var re = /\\S+@\\S+\\.\\S+/;\n    if (re.test(String(event.target.value).toLowerCase()))\n      this.setState({\n        signinEmailMessage: \"\"\n      });\n  }\n\n  handleChangeEmail(event) {\n    var re = /\\S+@\\S+\\.\\S+/;\n    this.setState({ email: event.target.value });\n    if (!re.test(String(event.target.value).toLowerCase())) {\n      if (event.target.value === \"\") {\n        this.setState({ emailMessage: \"Provide an email.\" });\n      } else {\n        this.setState({\n          emailMessage: \"It is not valid email.\"\n        });\n      }\n    } else\n      this.setState({\n        emailMessage: \"\"\n      });\n  }\n\n  handleClick = () => {\n    this.setState(\n      {\n        signinState: !this.state.signinState,\n        user: \"\",\n        email: \"\",\n        pass: \"\",\n        signinMessage: \"\",\n        emailMessage: \"\",\n        userMessage: \"\",\n        pass2: \"\",\n        loginPass: \"\",\n        passMessage: \"\",\n        passMessage2: \"\",\n        businessUser: false\n      },\n      () => {\n        for (let x in this.refs) {\n          this.refs[x].onkeypress = event => this._handleKeyPress(event, x);\n        }\n      }\n    );\n  };\n\n  handleBussinessClick = () => {\n    this.setState({\n      businessUser: !this.state.businessUser,\n      signinState: false,\n      user: \"\",\n      email: \"\",\n      pass: \"\",\n      signinMessage: \"\",\n      emailMessage: \"\",\n      userMessage: \"\",\n      passMessage: \"\",\n      passMessage2: \"\",\n      pass2: \"\",\n      loginPass: \"\"\n    });\n  };\n\n  validateForm() {\n    var re = /\\S+@\\S+\\.\\S+/;\n    if (this.state.user === \"\") {\n      this.setState({ userMessage: \" Provide an username\" });\n    } else if (!re.test(String(this.state.email).toLowerCase())) {\n      if (this.state.email === \"\") {\n        this.setState({ emailMessage: \" Provide an email\" });\n      } else {\n        this.setState({\n          emailMessage: \" Email is not valid email\"\n        });\n      }\n    } else if (this.state.pass === \"\") {\n      this.setState({ emailMessage: \"\", passMessage: \"Provide a password \" });\n    } else if (this.state.pass.length < 6) {\n      this.setState({\n        emailMessage: \"\",\n        passMessage: \"at least 6 characters\"\n      });\n    } else if (this.state.pass !== this.state.pass2) {\n      this.setState({\n        passMessage: \"\",\n        passMessage2: \"Passwords doesnt Match\"\n      });\n    } else return true;\n    return false;\n  }\n}\n\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}