{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/kouros/Code/SSR/components/homepage/Cards.jsx\";\nimport React, { Component } from \"react\";\nimport Card from \"./Card\";\nimport API from \"../../Service/API\";\n\nvar Cards =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Cards, _Component);\n\n  function Cards(props) {\n    var _this;\n\n    _classCallCheck(this, Cards);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Cards).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleScroll\", function (e) {//let bottom = e.target;\n      //bottom = window.scrollY;\n      // bottom = document.documentElement.scrollHeight;\n    });\n\n    _this.state = {\n      data: []\n    };\n    _this.handleScroll = _this.handleScroll.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Cards, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.API = new API();\n      this.API.getAllItems().then(function (res) {\n        _this2.APIData = res.items;\n\n        _this2.setState({\n          data: res.items\n        });\n\n        window.addEventListener(\"scroll\", _this2.handleScroll);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var categoryData = [];\n      var filteredData = [];\n      var items = this.state.data;\n      if (this.props.category !== \"All Deals\") categoryData = items.filter(function (i) {\n        return i.category === _this3.props.category;\n      });else categoryData = items;\n\n      if (this.props.subcategory) {\n        var tobefilterditems = categoryData;\n\n        if (this.props.subcategory === \"Price\") {\n          filteredData = [].concat(categoryData).sort(function (a, b) {\n            return a.dprice - b.dprice;\n          }).map(function (item, i) {\n            return item;\n          });\n        } else if (this.props.subcategory === \"Discount\") {\n          filteredData = [].concat(categoryData).sort(function (a, b) {\n            return b.discount - a.discount;\n          }).map(function (item, i) {\n            return item;\n          });\n        } else if (this.props.subcategory === \"NewDeals\") {\n          filteredData = categoryData;\n        } else if (this.props.subcategory === \"Featured\") {\n          filteredData = [].concat(categoryData).sort(function (a, b) {\n            return b.discount - a.discount;\n          }).map(function (item, i) {\n            return item;\n          });\n        } else {\n          filteredData = tobefilterditems.filter(function (i) {\n            return i.subcategory === _this3.props.subcategory;\n          });\n        }\n      } else filteredData = categoryData;\n\n      return React.createElement(\"div\", {\n        className: \"row\",\n        onScroll: function onScroll() {\n          _this3.handleScroll();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, //this.state.data\n      filteredData.map(function (item, index) {\n        return React.createElement(Card, {\n          key: index,\n          id: item.companyid,\n          compnay: item.company,\n          imageurl: item.imageurl,\n          description: item.description,\n          price: item.price,\n          dprice: item.dprice,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n      }));\n    }\n  }, {\n    key: \"compare\",\n    value: function compare(a, b) {\n      var genreA = a.genre.toUpperCase();\n      var genreB = b.genre.toUpperCase();\n      var comparison = 0;\n\n      if (genreA > genreB) {\n        comparison = 1;\n      } else if (genreA < genreB) {\n        comparison = -1;\n      }\n\n      return comparison;\n    }\n  }]);\n\n  return Cards;\n}(Component);\n\nexport default Cards;","map":{"version":3,"sources":["/Users/kouros/Code/SSR/components/homepage/Cards.jsx"],"names":["React","Component","Card","API","Cards","props","e","state","data","handleScroll","bind","getAllItems","then","res","APIData","items","setState","window","addEventListener","removeEventListener","categoryData","filteredData","category","filter","i","subcategory","tobefilterditems","concat","sort","a","b","dprice","map","item","discount","index","companyid","company","imageurl","description","price","genreA","genre","toUpperCase","genreB","comparison"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Card from \"./Card\";\nimport API from \"../../Service/API\";\n\nclass Cards extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n  componentDidMount() {\n    this.API = new API();\n    this.API.getAllItems().then(res => {\n      this.APIData = res.items;\n      this.setState({ data: res.items });\n      window.addEventListener(\"scroll\", this.handleScroll);\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n\n  render() {\n    var categoryData = [];\n    var filteredData = [];\n    var items = this.state.data;\n\n    if (this.props.category !== \"All Deals\")\n      categoryData = items.filter(i => i.category === this.props.category);\n    else categoryData = items;\n\n    if (this.props.subcategory) {\n      let tobefilterditems = categoryData;\n\n      if (this.props.subcategory === \"Price\") {\n        filteredData = []\n          .concat(categoryData)\n          .sort((a, b) => a.dprice - b.dprice)\n          .map((item, i) => {\n            return item;\n          });\n      } else if (this.props.subcategory === \"Discount\") {\n        filteredData = []\n          .concat(categoryData)\n          .sort((a, b) => b.discount - a.discount)\n          .map((item, i) => {\n            return item;\n          });\n      } else if (this.props.subcategory === \"NewDeals\") {\n        filteredData = categoryData;\n      } else if (this.props.subcategory === \"Featured\") {\n        filteredData = []\n          .concat(categoryData)\n          .sort((a, b) => b.discount - a.discount)\n          .map((item, i) => {\n            return item;\n          });\n      } else {\n        filteredData = tobefilterditems.filter(\n          i => i.subcategory === this.props.subcategory\n        );\n      }\n    } else filteredData = categoryData;\n\n    return (\n      <div\n        className=\"row\"\n        onScroll={() => {\n          this.handleScroll();\n        }}\n      >\n        {//this.state.data\n        filteredData.map(function(item, index) {\n          return (\n            <Card\n              key={index}\n              id={item.companyid}\n              compnay={item.company}\n              imageurl={item.imageurl}\n              description={item.description}\n              price={item.price}\n              dprice={item.dprice}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n\n  handleScroll = e => {\n    //let bottom = e.target;\n    //bottom = window.scrollY;\n    // bottom = document.documentElement.scrollHeight;\n  };\n\n  compare(a, b) {\n    const genreA = a.genre.toUpperCase();\n    const genreB = b.genre.toUpperCase();\n    let comparison = 0;\n    if (genreA > genreB) {\n      comparison = 1;\n    } else if (genreA < genreB) {\n      comparison = -1;\n    }\n    return comparison;\n  }\n}\nexport default Cards;\n"]},"metadata":{},"sourceType":"module"}