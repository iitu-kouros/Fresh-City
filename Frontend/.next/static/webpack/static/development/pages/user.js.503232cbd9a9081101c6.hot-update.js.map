{"version":3,"file":"static/webpack/static/development/pages/user.js.503232cbd9a9081101c6.hot-update.js","sources":["webpack:///./pages/user.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Menu from \"../components/menu/Menu.jsx\";\nimport Footer from \"../components/menu/Footer.jsx\";\nimport API from \"../API.js\";\nimport Router from \"next/router\";\nimport \"../style.css\";\nimport \"../profile.css\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      coupons: [],\n      messages: [],\n      menuState: \"coupons\"\n    };\n\n    this.handleSignout = this.handleSignout.bind(this);\n    this.couponNumber = this.couponNumber.bind(this);\n    this.API = new API();\n  }\n\n  componentDidMount() {\n    let token = localStorage.getItem(\"jwt\");\n    //should validate\n    if (!token) {\n      this.props.history.replace(\"/\");\n    } else {\n      let profile = this.API.getProfile();\n      this.API.getUserCoupons(profile.id).then(res => {\n        //            console.log('coupons', res);\n\n        if (res.data.message === \"Successful Responce.\")\n          this.setState({ coupons: res.data.items }, () => {\n            //                  console.log('coupons', this.state)\n          });\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"sidebar\">\n          <a className=\"active\" href=\"/\">\n            понпон\n          </a>\n          <a\n            href=\"#p\"\n            onClick={() => {\n              this.setState({ menuState: \"coupons\" });\n            }}\n          >\n            Coupons{\" \"}\n          </a>\n          <a\n            href=\"#d\"\n            onClick={() => {\n              this.setState({ menuState: \"messages\" });\n            }}\n          >\n            Messages{\" \"}\n          </a>\n          <a onClick={this.handleSignout} href=\"#Update\">\n            Sign Out\n          </a>\n        </div>\n\n        <div className=\"content\">\n          {this.state.menuState === \"coupons\" ? (\n            <div className=\"pcard\">\n              <div className=\"card-header\">Your Certificates</div>\n\n              <div className=\"container\" id=\"guide\">\n                <div className=\"grouplist\">\n                  <ul>\n                    {this.state.coupons.map(function(item, index) {\n                      return (\n                        <li key={index}>\n                          <h3>\n                            Certificate No. :{\" \"}\n                            {this.couponNumber(\n                              item.userid,\n                              item.itemid,\n                              item.expiry\n                            )}\n                          </h3>\n                          <p>\n                            <span>\n                              {\" \"}\n                              <strong>Company Provided: </strong>\n                            </span>\n                            <span> {item.company} </span>\n                          </p>\n                          <p>\n                            <span>\n                              {\" \"}\n                              <strong>Service Description: </strong>\n                            </span>\n                            <span> {item.description} </span>\n                          </p>\n                          <p>\n                            <span>\n                              {\" \"}\n                              <strong>Original Price: </strong>\n                            </span>\n                            <span> {item.price} &nbsp;&nbsp;</span>\n                            <span>\n                              {\" \"}\n                              <strong>Discount Price: </strong>\n                            </span>\n                            <span> {item.dprice} </span>\n                          </p>\n                          <p>\n                            <span>\n                              {\" \"}\n                              <strong> Bought at: </strong>\n                            </span>\n                            <span> {item.datecreated} &nbsp;&nbsp;</span>\n                            <span>\n                              {\" \"}\n                              <strong> Expire at: </strong>\n                            </span>\n                            <span> {item.expiry} </span>\n                          </p>\n                        </li>\n                      );\n                    }, this)}\n                  </ul>\n                  {this.state.coupons.length\n                    ? null\n                    : \"You dont have any cerificate\"}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"pcard\">\n              <div className=\"card-header\">You Messages </div>\n              <div className=\"container\" id=\"guide\">\n                <ul />\n                {this.state.messages.length\n                  ? null\n                  : \"You dont have any messages\"}\n              </div>\n            </div>\n          )}\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  handleSignout() {\n    localStorage.removeItem(\"jwt\");\n    this.props.history.replace(\"/\");\n  }\n\n  couponNumber(itemId, profileId, couponDate) {\n    let coupon = new Date(couponDate).valueOf() + itemId + profileId;\n    return coupon;\n  }\n}\n\nexport default Profile;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAXA;AAYA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;;AAzJA;AACA;AA2JA;;;;A","sourceRoot":""}